---
import BaseLayout from "../layouts/BaseLayout.astro";
import HorizontalCard from "../components/HorizontalCard.astro";
import { getCollection } from "astro:content";
import { getGithubInformation } from "../../getRepos";

const routeNames = await getGithubInformation();

const posts = (await getCollection("blog")).sort(
  (a, b) =>
    b.data.pubDate.valueOf() -
    a.data.pubDate.valueOf()
);
const last_posts = posts.slice(0, 3);
console.log(routeNames[1].screenshot);
---

<BaseLayout sideBarActiveItemID="home">
  <div class="pb-12 mt-5">
    <div class="text-xl py-1">Hello y'all!</div>
    <div class="text-5xl font-bold">
      I'm Serdar Oezdemir
    </div>
    <div class="text-3xl py-3 font-bold">
      Software Engineer and Hobbyist Dev
    </div>
    <div class="py-2">
      <text class="text-lg"
        >I'm a passionate software developer who
        spends my days working on backend projects
        and my evenings tinkering with web
        development as a hobby. My go-to tools are
        Angular, C#, and TailwindCSS, and I'm
        always excited to try out the latest
        updates and technologies. I love the
        challenge of building great software that
        solves real-world problems, and I'm
        constantly seeking out new opportunities
        to learn and grow as a developer.</text
      >
    </div>
    <div class="mt-8">
      <a
        class="btn"
        href="https://www.linkedin.com/in/serdaroezdemir/"
        target="_blank"
      >
        Let's connect on LinkedIn!</a
      >
      <a
        href="https://www.xing.com/profile/Serdar_Oezdemir28/"
        target="_blank"
        class="btn btn-outline ml-5"
      >
        Or on XING!
      </a>
    </div>
  </div>

  <div>
    <div class="text-3xl w-full font-bold mb-2">
      My last projects {"</>"}
    </div>
  </div>

  <HorizontalCard
    title={routeNames[0].name}
    img={routeNames[0].screenshot === undefined
      ? "/post_img.webp"
      : routeNames[0].screenshot}
    desc={routeNames[0].description}
    url={routeNames[0].htmlURL}
  />
  <div class="divider my-0"></div>
  <HorizontalCard
    title={routeNames[1].name}
    img={routeNames[1].screenshot === undefined
      ? "/post_img.webp"
      : routeNames[1].screenshot}
    desc={routeNames[1].description
      ? "No available description"
      : routeNames[1].description}
    url={routeNames[1].htmlURL}
  />
  <div class="divider my-0"></div>
  <HorizontalCard
    title={routeNames[2].name}
    img={routeNames[2].screenshot === undefined
      ? "/post_img.webp"
      : routeNames[2].screenshot}
    desc={routeNames[2].description}
    url={routeNames[2].htmlURL}
  />

  <!-- <div>
    <div
      class="text-3xl w-full font-bold mb-5 mt-10"
    >
      Latest from blog
    </div>
  </div>

  {
    last_posts.map((post) => (
      <>
        <HorizontalCard
          title={post.data.title}
          img={post.data.heroImage}
          desc={post.data.description}
          url={"/blog/" + post.slug}
          target="_self"
          badge={post.data.badge}
        />
        <div class="divider my-0" />
      </>
    ))
  } -->
</BaseLayout>
 getRepos
